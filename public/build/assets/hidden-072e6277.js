import{r as m}from"./app-5359f92b.js";import{u as b,s as h,D as N,X as F}from"./open-closed-b515af5c.js";import{e as y}from"./keyboard-db803cf3.js";let p=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var x=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(x||{}),L=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(L||{}),g=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(g||{});function P(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(p)).sort((r,n)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var w=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(w||{});function S(e,r=0){var n;return e===((n=y(e))==null?void 0:n.body)?!1:b(r,{0(){return e.matches(p)},1(){let o=e;for(;o!==null;){if(o.matches(p))return!0;o=o.parentElement}return!1}})}var A=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(A||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function C(e){e==null||e.focus({preventScroll:!0})}let M=["textarea","input"].join(",");function I(e){var r,n;return(n=(r=e==null?void 0:e.matches)==null?void 0:r.call(e,M))!=null?n:!1}function O(e,r=n=>n){return e.slice().sort((n,o)=>{let u=r(n),s=r(o);if(u===null||s===null)return 0;let t=u.compareDocumentPosition(s);return t&Node.DOCUMENT_POSITION_FOLLOWING?-1:t&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function G(e,r,{sorted:n=!0,relativeTo:o=null,skipElements:u=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,t=Array.isArray(e)?n?O(e):e:P(e);u.length>0&&t.length>1&&(t=t.filter(d=>!u.includes(d))),o=o??s.activeElement;let a=(()=>{if(r&5)return 1;if(r&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),i=(()=>{if(r&1)return 0;if(r&2)return Math.max(0,t.indexOf(o))-1;if(r&4)return Math.max(0,t.indexOf(o))+1;if(r&8)return t.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),E=r&32?{preventScroll:!0}:{},c=0,l=t.length,f;do{if(c>=l||c+l<=0)return 0;let d=i+c;if(r&16)d=(d+l)%l;else{if(d<0)return 3;if(d>=l)return 1}f=t[d],f==null||f.focus(E),c+=a}while(f!==s.activeElement);return r&6&&I(f)&&f.select(),2}function v(e,r,n){let o=h(r);m.useEffect(()=>{function u(s){o.current(s)}return document.addEventListener(e,u,n),()=>document.removeEventListener(e,u,n)},[e,n])}function T(e,r,n){let o=h(r);m.useEffect(()=>{function u(s){o.current(s)}return window.addEventListener(e,u,n),()=>window.removeEventListener(e,u,n)},[e,n])}function U(e,r,n=!0){let o=m.useRef(!1);m.useEffect(()=>{requestAnimationFrame(()=>{o.current=n})},[n]);function u(t,a){if(!o.current||t.defaultPrevented)return;let i=a(t);if(i===null||!i.getRootNode().contains(i)||!i.isConnected)return;let E=function c(l){return typeof l=="function"?c(l()):Array.isArray(l)||l instanceof Set?l:[l]}(e);for(let c of E){if(c===null)continue;let l=c instanceof HTMLElement?c:c.current;if(l!=null&&l.contains(i)||t.composed&&t.composedPath().includes(l))return}return!S(i,w.Loose)&&i.tabIndex!==-1&&t.preventDefault(),r(t,i)}let s=m.useRef(null);v("pointerdown",t=>{var a,i;o.current&&(s.current=((i=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:i[0])||t.target)},!0),v("mousedown",t=>{var a,i;o.current&&(s.current=((i=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:i[0])||t.target)},!0),v("click",t=>{s.current&&(u(t,()=>s.current),s.current=null)},!0),v("touchend",t=>u(t,()=>t.target instanceof HTMLElement?t.target:null),!0),T("blur",t=>u(t,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}let D="div";var _=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(_||{});function H(e,r){let{features:n=1,...o}=e,u={ref:r,"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return F({ourProps:u,theirProps:o,slot:{},defaultTag:D,name:"Hidden"})}let W=N(H);export{O as I,x as M,L as N,G as O,w as T,S as a,W as c,U as h,_ as p,T as s,C as y};
