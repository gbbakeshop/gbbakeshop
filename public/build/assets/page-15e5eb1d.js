import{r as e,q as L,u as C,j as p,a}from"./app-bb52e482.js";import{A as D}from"./administrator-layout-b8cdb933.js";import P from"./bread-table-02a6563e.js";import{g as E}from"./recipes-services-9b09f8f8.js";import k from"./branch-bakers-production-tabs-9bb723dc.js";import{S as v}from"./skeleton-loader-1d73eace.js";import{g as A}from"./raw-materials-services-c52ec842.js";import{S as N}from"./search-b48fe1fb.js";import T from"./sidebar-branches-451b4ec1.js";import"./ReactToastify-3617c5b7.js";import"./useDispatch-3a9ed006.js";import"./store-icon-6acd80dc.js";import"./action-drawer-03e12801.js";import"./create-production-form-791ffb7d.js";import"./ingredients-services-d50e7ce6.js";import"./records-services-77202558.js";import"./input-f1edcf29.js";import"./create-icon-6ad53f09.js";import"./index.esm-b4a1a7c4.js";import"./iconBase-53dc09d0.js";import"./index.esm-8efbae79.js";import"./branches-services-592b8022.js";import"./open-closed-bf0a30ca.js";import"./keyboard-d925fd65.js";function at(l){const{auth:u}=l,[r,d]=e.useState([]),[f,h]=e.useState([]),[S,_]=e.useState(!0),{url:g}=L(),n=g.split("/")[2],{refresh:B}=C(t=>t.app),[w,x]=e.useState([]),[s,b]=e.useState("");return e.useEffect(()=>{E().then(t=>{d(t),_(!1)}),A(n).then(t=>{h(t)})},[B]),e.useEffect(()=>{const t=r==null?void 0:r.map(o=>{var i;return(i=o==null?void 0:o.selected_breads)==null?void 0:i.filter(m=>{var c;return(c=m==null?void 0:m.bread_name)==null?void 0:c.toLowerCase().includes(s.toLowerCase())})});x(r.map((o,i)=>({...o,selected_breads:t[i]})))},[s,r]),p(D,{children:[a(T,{}),p("div",{className:"flex flex-col w-full h-full p-4",children:[a(k,{}),a("br",{}),a(N,{search:s,setSearch:b}),S?a(v,{}):a(P,{account:u.user,branchid:n,data2:f,data:s==""?r:w})]})]})}export{at as default};
