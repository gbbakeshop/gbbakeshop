import{r as e,q as L,u as C,j as p,a}from"./app-12ee0023.js";import{A as D}from"./administrator-layout-8da19b3b.js";import P from"./bread-table-1d210bc5.js";import{g as E}from"./recipes-services-b3fad4ee.js";import k from"./branch-bakers-production-tabs-79d2c0f5.js";import{S as v}from"./skeleton-loader-ec86af29.js";import{g as A}from"./raw-materials-services-8f60afdb.js";import{S as N}from"./search-b66cba15.js";import T from"./sidebar-branches-6780253e.js";import"./ReactToastify-8a4afb8e.js";import"./useDispatch-ae7a9313.js";import"./store-icon-8b607bbf.js";import"./branches-services-2a953425.js";import"./create-production-form-1c84eb72.js";import"./x-mark-icon-ec6a3a39.js";import"./plus-icon-449326d2.js";import"./ingredients-services-2bf3497b.js";import"./records-services-77202558.js";import"./input-a948e152.js";import"./transition-26b02c88.js";import"./open-closed-50b612ea.js";import"./dialog-743a8223.js";import"./keyboard-886e0771.js";import"./index.esm-b460d28a.js";import"./iconBase-53c13a17.js";import"./index.esm-c44c7658.js";function st(l){const{auth:u}=l,[r,d]=e.useState([]),[f,h]=e.useState([]),[S,_]=e.useState(!0),{url:g}=L(),n=g.split("/")[2],{refresh:B}=C(t=>t.app),[w,x]=e.useState([]),[s,b]=e.useState("");return e.useEffect(()=>{E().then(t=>{d(t),_(!1)}),A(n).then(t=>{h(t)})},[B]),e.useEffect(()=>{const t=r==null?void 0:r.map(o=>{var i;return(i=o==null?void 0:o.selected_breads)==null?void 0:i.filter(m=>{var c;return(c=m==null?void 0:m.bread_name)==null?void 0:c.toLowerCase().includes(s.toLowerCase())})});x(r.map((o,i)=>({...o,selected_breads:t[i]})))},[s,r]),p(D,{children:[a(T,{}),p("div",{className:"flex flex-col w-full h-screen p-4",children:[a(k,{}),a("br",{}),a(N,{search:s,setSearch:b}),S?a(v,{}):a(P,{account:u.user,branchid:n,data2:f,data:s==""?r:w})]})]})}export{st as default};
