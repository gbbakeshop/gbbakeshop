import{r as a,R as E}from"./app-bb52e482.js";import{b as M,u as C,s as O,S as ve,D as W,y as te,j as x,l as re,o as y,t as Z,c as pe,d as $,X as ne,C as le}from"./open-closed-bf0a30ca.js";function he(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function A(){let t=[],e={addEventListener(r,n,o,d){return r.addEventListener(n,o,d),e.add(()=>r.removeEventListener(n,o,d))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return he(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,o){let d=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:o}),this.add(()=>{Object.assign(r.style,{[n]:d})})},group(r){let n=A();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let o of t.splice(n,1))o()}},dispose(){for(let r of t.splice(0))r()}};return e}function ie(){let[t]=a.useState(A);return a.useEffect(()=>()=>t.dispose(),[t]),t}function X(){let t=a.useRef(!1);return M(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function ge(t=0){let[e,r]=a.useState(t),n=X(),o=a.useCallback(s=>{n.current&&r(l=>l|s)},[e,n]),d=a.useCallback(s=>!!(e&s),[e]),v=a.useCallback(s=>{n.current&&r(l=>l&~s)},[r,n]),f=a.useCallback(s=>{n.current&&r(l=>l^s)},[r]);return{flags:e,addFlag:o,hasFlag:d,removeFlag:v,toggleFlag:f}}function be(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function I(t,...e){t&&e.length>0&&t.classList.add(...e)}function K(t,...e){t&&e.length>0&&t.classList.remove(...e)}function Ee(t,e){let r=A();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:o}=getComputedStyle(t),[d,v]=[n,o].map(s=>{let[l=0]=s.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,g)=>g-c);return l}),f=d+v;if(f!==0){r.group(l=>{l.setTimeout(()=>{e(),l.dispose()},f),l.addEventListener(t,"transitionrun",c=>{c.target===c.currentTarget&&l.dispose()})});let s=r.addEventListener(t,"transitionend",l=>{l.target===l.currentTarget&&(e(),s())})}else e();return r.add(()=>e()),r.dispose}function Te(t,e,r,n){let o=r?"enter":"leave",d=A(),v=n!==void 0?be(n):()=>{};o==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let f=C(o,{enter:()=>e.enter,leave:()=>e.leave}),s=C(o,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),l=C(o,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return K(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),I(t,...e.base,...f,...l),d.nextFrame(()=>{K(t,...e.base,...f,...l),I(t,...e.base,...f,...s),Ee(t,()=>(K(t,...e.base,...f),I(t,...e.base,...e.entered),v()))}),d.dispose}function Fe({immediate:t,container:e,direction:r,classes:n,onStart:o,onStop:d}){let v=X(),f=ie(),s=O(r);M(()=>{t&&(s.current="enter")},[t]),M(()=>{let l=A();f.add(l.dispose);let c=e.current;if(c&&s.current!=="idle"&&v.current)return l.dispose(),o.current(s.current),l.add(Te(c,n.current,s.current==="enter",()=>{l.dispose(),d.current(s.current)})),l.dispose},[r])}function F(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let j=a.createContext(null);j.displayName="TransitionContext";var $e=(t=>(t.Visible="visible",t.Hidden="hidden",t))($e||{});function Ce(){let t=a.useContext(j);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function ye(){let t=a.useContext(U);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let U=a.createContext(null);U.displayName="NestingContext";function B(t){return"children"in t?B(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function ae(t,e){let r=O(t),n=a.useRef([]),o=X(),d=ie(),v=y((p,u=x.Hidden)=>{let m=n.current.findIndex(({el:i})=>i===p);m!==-1&&(C(u,{[x.Unmount](){n.current.splice(m,1)},[x.Hidden](){n.current[m].state="hidden"}}),d.microTask(()=>{var i;!B(n)&&o.current&&((i=r.current)==null||i.call(r))}))}),f=y(p=>{let u=n.current.find(({el:m})=>m===p);return u?u.state!=="visible"&&(u.state="visible"):n.current.push({el:p,state:"visible"}),()=>v(p,x.Unmount)}),s=a.useRef([]),l=a.useRef(Promise.resolve()),c=a.useRef({enter:[],leave:[],idle:[]}),g=y((p,u,m)=>{s.current.splice(0),e&&(e.chains.current[u]=e.chains.current[u].filter(([i])=>i!==p)),e==null||e.chains.current[u].push([p,new Promise(i=>{s.current.push(i)})]),e==null||e.chains.current[u].push([p,new Promise(i=>{Promise.all(c.current[u].map(([L,R])=>R)).then(()=>i())})]),u==="enter"?l.current=l.current.then(()=>e==null?void 0:e.wait.current).then(()=>m(u)):m(u)}),b=y((p,u,m)=>{Promise.all(c.current[u].splice(0).map(([i,L])=>L)).then(()=>{var i;(i=s.current.shift())==null||i()}).then(()=>m(u))});return a.useMemo(()=>({children:n,register:f,unregister:v,onStart:g,onStop:b,wait:l,chains:c}),[f,v,n,g,b,c,l])}function we(){}let Se=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function ee(t){var e;let r={};for(let n of Se)r[n]=(e=t[n])!=null?e:we;return r}function xe(t){let e=a.useRef(ee(t));return a.useEffect(()=>{e.current=ee(t)},[t]),e}let Le="div",se=ve.RenderStrategy;function Re(t,e){var r,n;let{beforeEnter:o,afterEnter:d,beforeLeave:v,afterLeave:f,enter:s,enterFrom:l,enterTo:c,entered:g,leave:b,leaveFrom:p,leaveTo:u,...m}=t,i=a.useRef(null),L=te(i,e),R=(r=m.unmount)==null||r?x.Unmount:x.Hidden,{show:h,appear:w,initial:_}=Ce(),[S,V]=a.useState(h?"visible":"hidden"),J=ye(),{register:k,unregister:D}=J;a.useEffect(()=>k(i),[k,i]),a.useEffect(()=>{if(R===x.Hidden&&i.current){if(h&&S!=="visible"){V("visible");return}return C(S,{hidden:()=>D(i),visible:()=>k(i)})}},[S,i,k,D,h,R]);let z=O({base:F(m.className),enter:F(s),enterFrom:F(l),enterTo:F(c),entered:F(g),leave:F(b),leaveFrom:F(p),leaveTo:F(u)}),q=xe({beforeEnter:o,afterEnter:d,beforeLeave:v,afterLeave:f}),G=re();a.useEffect(()=>{if(G&&S==="visible"&&i.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[i,S,G]);let oe=_&&!w,Y=w&&h&&_,ce=(()=>!G||oe?"idle":h?"enter":"leave")(),N=ge(0),de=y(T=>C(T,{enter:()=>{N.addFlag($.Opening),q.current.beforeEnter()},leave:()=>{N.addFlag($.Closing),q.current.beforeLeave()},idle:()=>{}})),fe=y(T=>C(T,{enter:()=>{N.removeFlag($.Opening),q.current.afterEnter()},leave:()=>{N.removeFlag($.Closing),q.current.afterLeave()},idle:()=>{}})),H=ae(()=>{V("hidden"),D(i)},J);Fe({immediate:Y,container:i,classes:z,direction:ce,onStart:O(T=>{H.onStart(i,T,de)}),onStop:O(T=>{H.onStop(i,T,fe),T==="leave"&&!B(H)&&(V("hidden"),D(i))})});let P=m,me={ref:L};return Y?P={...P,className:Z(m.className,...z.current.enter,...z.current.enterFrom)}:(P.className=Z(m.className,(n=i.current)==null?void 0:n.className),P.className===""&&delete P.className),E.createElement(U.Provider,{value:H},E.createElement(pe,{value:C(S,{visible:$.Open,hidden:$.Closed})|N.flags},ne({ourProps:me,theirProps:P,defaultTag:Le,features:se,visible:S==="visible",name:"Transition.Child"})))}function Pe(t,e){let{show:r,appear:n=!1,unmount:o=!0,...d}=t,v=a.useRef(null),f=te(v,e);re();let s=le();if(r===void 0&&s!==null&&(r=(s&$.Open)===$.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[l,c]=a.useState(r?"visible":"hidden"),g=ae(()=>{c("hidden")}),[b,p]=a.useState(!0),u=a.useRef([r]);M(()=>{b!==!1&&u.current[u.current.length-1]!==r&&(u.current.push(r),p(!1))},[u,r]);let m=a.useMemo(()=>({show:r,appear:n,initial:b}),[r,n,b]);a.useEffect(()=>{if(r)c("visible");else if(!B(g))c("hidden");else{let h=v.current;if(!h)return;let w=h.getBoundingClientRect();w.x===0&&w.y===0&&w.width===0&&w.height===0&&c("hidden")}},[r,g]);let i={unmount:o},L=y(()=>{var h;b&&p(!1),(h=t.beforeEnter)==null||h.call(t)}),R=y(()=>{var h;b&&p(!1),(h=t.beforeLeave)==null||h.call(t)});return E.createElement(U.Provider,{value:g},E.createElement(j.Provider,{value:m},ne({ourProps:{...i,as:a.Fragment,children:E.createElement(ue,{ref:f,...i,...d,beforeEnter:L,beforeLeave:R})},theirProps:{},defaultTag:a.Fragment,features:se,visible:l==="visible",name:"Transition"})))}function Ne(t,e){let r=a.useContext(j)!==null,n=le()!==null;return E.createElement(E.Fragment,null,!r&&n?E.createElement(Q,{ref:e,...t}):E.createElement(ue,{ref:e,...t}))}let Q=W(Pe),ue=W(Re),Oe=W(Ne),De=Object.assign(Q,{Child:Oe,Root:Q});export{De as a,X as f,A as o,ie as p,he as t};
