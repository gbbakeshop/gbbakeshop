import{r as s,q as S,u as m,v as w,j as f,a as r}from"./app-5d8b0e1d.js";import{A as x}from"./administrator-layout-791277db.js";import B from"./branch-history-tabs-00b84d64.js";import{S as g}from"./skeleton-loader-b307029f.js";import L from"./sidebar-branches-94a96ec0.js";import{B as b}from"./bread-crumbs-f7ce63bb.js";import _ from"./branch-history-table-a04ce69b.js";import{h as v}from"./moment-fbc5633a.js";import{u as H}from"./useDispatch-b811ceb1.js";import"./ReactToastify-0f1a55c0.js";import"./store-icon-4418cdb0.js";import"./branches-services-28dca217.js";import"./index.esm-fe4068b3.js";import"./iconBase-3338f8d5.js";import"./index.esm-ab88ab9f.js";import"./clock-icon-dd61bbe3.js";import"./open-closed-fb35e395.js";import"./keyboard-32dc41d4.js";import"./use-resolve-button-type-5a715e38.js";async function k(i){return(await axios.post("/api/get_branch_history",{date:i})).data.status}function W(i){const n=H(),[u,l]=s.useState(!0),{url:h}=S();h.split("/")[2];const{refresh:c}=m(t=>t.app),{history:o}=m(t=>t.branchHistory),[d,y]=s.useState([]),[e,C]=s.useState("");return s.useEffect(()=>{k(v().format("L")).then(t=>{n(w(t)),l(!1)})},[c]),s.useEffect(()=>{const t=o==null?void 0:o.filter(a=>{var p;return(p=a==null?void 0:a.bread_name)==null?void 0:p.toLowerCase().includes(e.toLowerCase())});y(t)},[e,c]),console.log("history",o),f(x,{children:[r(L,{}),f("div",{className:"flex flex-col w-full p-4 overflow-auto h-screen",children:[r(b,{}),r(B,{}),r("br",{}),u?r(g,{}):r(_,{data:e==""?o:d})]})]})}export{W as default};
