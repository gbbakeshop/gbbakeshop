import{r as t,u as N,j as a,F as w,a as e,c,x as F,i as T}from"./app-41cc0b88.js";import{X as E}from"./x-mark-icon-74cd7f9d.js";import{P as C}from"./pencil-icon-3de4c194.js";import{I as m}from"./input-e7403343.js";import{u as D}from"./breads-services-96435f7b.js";import{L as R}from"./loading-icon-cb83ab3c.js";import{u as _}from"./useDispatch-cb55bb16.js";import{t as i}from"./transition-8fbb313c.js";import{_ as u}from"./dialog-ad4f0c03.js";import"./open-closed-e1999277.js";import"./keyboard-4c58af20.js";import"./hidden-5f273b7b.js";function M({data:l}){const[x,o]=t.useState(!1),r=t.useRef(),{isReset:p}=N(n=>n.app),s=_(),[v,f]=t.useState(!1);function b(){return{status:"loading",message:"Loading..."}}t.useEffect(()=>{var n;p||(n=r==null?void 0:r.current)==null||n.reset()},[p]);function g(n){n.preventDefault(),f(!0);const d=new FormData(r.current);s(c(b()));const y={id:d.get("id"),bread_name:d.get("bread_name").toUpperCase(),price:d.get("price")};setTimeout(async()=>{const h=await D(y);s(c(h)),h.status=="success"&&(r.current.reset(),o(!1),s(F(!1))),setTimeout(()=>{f(!1),s(T()),s(c([]))},2e3)},1e3)}return a(w,{children:[e("button",{onClick:()=>o(!0),children:e(C,{})}),e(i.Root,{show:x,as:t.Fragment,children:a(u,{as:"div",className:"relative z-10",onClose:o,children:[e(i.Child,{as:t.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-10 transition-opacity"})}),e("div",{className:"fixed inset-0 overflow-hidden",children:e("div",{className:"absolute inset-0 overflow-hidden",children:e("div",{className:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10",children:e(i.Child,{as:t.Fragment,enter:"transform transition ease-in-out duration-500 sm:duration-700",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:a(u.Panel,{className:"pointer-events-auto relative w-screen max-w-md",children:[e(i.Child,{as:t.Fragment,enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"absolute left-0 top-0 -ml-8 flex pr-2 pt-4 sm:-ml-10 sm:pr-4",children:a("button",{type:"button",className:"relative rounded-md text-gray-300 hover:text-white focus:outline-none focus:ring-2 focus:ring-white",onClick:()=>o(!1),children:[e("span",{className:"absolute -inset-2.5"}),e("span",{className:"sr-only",children:"Close panel"}),e(E,{className:"h-6 w-6","aria-hidden":"true"})]})})}),a("div",{className:"flex h-full flex-col overflow-y-scroll bg-white py-6 shadow-xl",children:[e("div",{className:"px-4 sm:px-6",children:e(u.Title,{className:"text-base font-semibold leading-6 text-gray-900",children:"EDIT BREAD"})}),e("div",{className:"relative mt-6 flex-1 px-4 sm:px-6",children:a("form",{name:"form",ref:r,onSubmit:g,className:"flex flex-col h-full w-full",children:[a("div",{className:"flex-1",children:[e(m,{name:"id",data:l.id,title:null,placeholder:"Enter name of bread",type:"hidden"}),e(m,{name:"bread_name",data:l.bread_name,title:"Name of Bread",placeholder:"Enter name of bread",type:"text"}),e(m,{name:"price",data:l.price,title:"Price",placeholder:"Enter Price",type:"number"})]}),e("div",{className:"flex-none",children:v?e("button",{disabled:!0,className:"flex-none w-full items-center align-center justify-center bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded bottom-0",children:e("center",{children:e(R,{})})}):e("button",{className:"flex-none w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded bottom-0",children:"UPDATE"})})]})})]})]})})})})})]})})]})}export{M as default};
